/**
 * @license Autofields v2.0.0
 * (c) 2014 Justin Maier http://justmaier.github.io/angular-autoFields-bootstrap
 * License: MIT
 * Requires: autofields.min
 */
"use strict";
angular.module("autofields.bootstrap",["autofields.standard","ui.bootstrap"]).config(["$autofieldsProvider",function(e){e.settings.classes.container.push("form-group");e.settings.classes.input.push("form-control");e.settings.classes.label.push("control-label");e.registerHandler("checkbox",function(t,n,r){var i=e.field(t,n,"<input/>");if(i.label)i.label.prepend(i.input);i.input.removeClass("form-control");return i.fieldContainer});e.settings.dateSettings={showWeeks:false,datepickerPopup:"MMMM dd, yyyy"};e.registerHandler("date",function(t,n,r){var i=n.showWeeks?n.showWeeks:t.options.dateSettings.showWeeks;var s=n.datepickerPopup?n.datepickerPopup:t.options.dateSettings.datepickerPopup;var o={type:"text",showWeeks:i,datepickerPopup:s};var u=e.field(t,n,"<input/>",o);return u.fieldContainer});e.registerHandler("static",function(t,n,r){var i=n.showWeeks?n.showWeeks:t.options.dateSettings.showWeeks;var s=n.datepickerPopup?n.datepickerPopup:t.options.dateSettings.datepickerPopup;var o=e.field(t,n,"<p/>");var u=angular.element("<p/>");u.attr("ng-bind",o.input.attr("ng-model"));u.addClass("form-control-static");o.input.replaceWith(u);return o.fieldContainer});e.settings.classes.row=e.settings.classes.row||[];e.settings.classes.row.push("row");e.settings.classes.col=e.settings.classes.col||[];e.settings.classes.col.push("col-sm-$size");e.settings.classes.colOffset=e.settings.classes.colOffset||[];e.settings.classes.colOffset.push("col-sm-offset-$size");e.registerHandler("multiple",function(t,n,r){var i=angular.element("<div/>");i.addClass(t.options.classes.row.join(" "));angular.forEach(n.fields,function(r,s){var o=angular.element("<div/>");var u=r.type!="multiple"?r.columns||n.columns:n.columns;o.addClass(t.options.classes.col.join(" ").replace(/\$size/g,u));o.append(e.createField(t,r,s));i.append(o)});return i});e.settings.classes.helpBlock=e.settings.classes.helpBlock||[];e.settings.classes.helpBlock.push("help-block");e.registerMutator("helpBlock",function(e,t,n){if(!t.help)return n;n.helpBlock=angular.element("<p/>");n.helpBlock.addClass(e.options.classes.helpBlock.join(" "));n.helpBlock.html(t.help);n.fieldContainer.append(n.helpBlock);return n});e.settings.layout={type:"basic",labelSize:2,inputSize:10};e.registerMutator("horizontalForm",function(t,n,r){if(!(t.options.layout&&t.options.layout.type=="horizontal")){t.container.removeClass("form-horizontal");return r}var i=e.settings.classes.col[0];var s=e.settings.classes.colOffset[0];var o=n.labelSize?n.labelSize:t.options.layout.labelSize;var u=n.inputSize?n.inputSize:t.options.layout.inputSize;t.container.addClass("form-horizontal");var a=angular.element("<div/>");a.addClass(i.replace(/\$size/gi,u));if(r.label&&n.type!="checkbox"){r.label.addClass(i.replace(/\$size/gi,o));r.label.after(a)}else{r.fieldContainer.prepend(a);a.addClass(s.replace(/\$size/g,o))}if(n.type=="checkbox"){r.fieldContainer.removeClass("checkbox");var f=angular.element("<div/>");f.addClass("checkbox");f.append(r.label);a.append(f)}else{a.append(r.input)}if(n.help){a.append(r.helpBlock)}return r},{require:"helpBlock"})}]);angular.module("autofields.bootstrap.validation",["autofields.validation"]).config(["$autofieldsProvider",function(e){e.settings.attributes.container.ngClass="{'has-error':"+e.settings.validation.invalid+", 'has-success':"+e.settings.validation.valid+"}";e.settings.attributes.input.popover="{{("+e.settings.validation.valid+") ? '$validMsg' : ($errorMsgs)}}";e.registerMutator("bootstrap-validation",function(e,t,n){if(!n.validation){n.input.removeAttr("popover");return n}if(n.msgs.length){var r=n.input.attr("popover").replace(/\$validMsg/gi,n.validMsg).replace(/\$errorMsgs/gi,n.msgs.join("+"));n.input.attr({"popover-trigger":"focus","popover-placement":"top",popover:r})}else{n.input.removeAttr("popover")}return n},{require:"validation",override:true})}]);angular.module("autofields",["autofields.bootstrap","autofields.bootstrap.validation"])